---
format:
  html:
    toc: true
    toc-title: "Contenidos"
    toc-expand: 1
    code-overflow: wrap
editor_options:
  markdown:
    wrap: sentence
    canonical: true
theme: cosmo
---
# An√°lisis de datos {#sec-analisis-datos}

```{r}
#| include: false
source("_common.R")
```

## Importando datos en R

Antes de ingresar nuestros datos, es muy importante indicar a R cu√°l ser√° nuestro directorio de trabajo o tambi√©n llamado **Working Directory**. Es decir, debemos establecer la carpeta dentro de la cual se encuentran los archivos a utilizar, y donde se exportar√°n los que generes durante tu trabajo.

R toma autom√°ticamente un directorio en el cual trabajar. Puedes saber en que directorio est√°s trabajando con la funci√≥n `getwd()`.

Existen algunas formas de establecer el lugar de trabajo. La primera es de manera manual:
```{r eval=FALSE}
setwd("~/Curso_R/Estadistica basica")
```

Nota que el s√≠mbolo `~` se encuentra al inicio del directorio escrito. Este s√≠mbolo
reemplaza al resultado obtenido de la funci√≥n `getwd`.

La segunda manera de establecer el directorio es presionando las teclas `Ctrl+Shift+H`. Inmediatamente se abrir√° una ventana en la que podr√°s seleccionar tu directorio manualmente.

### Archivos *csv*

Antes de importar nuestros datos, debemos tener claro cu√°l es la extensi√≥n de estos ya que diferentes formatos implican diferentes funciones para importarlos en R.

Tanto los archivos [txt](http://www.sthda.com/english/wiki/reading-data-from-txt-csv-files-r-base-functions) y  [xlsxl](http://www.sthda.com/english/wiki/reading-data-from-excel-files-xls-xlsx-into-r) resultan un poco m√°s complicados de leer e incluso necesitan la instalaci√≥n de otros paquetes como [readxl](https://readxl.tidyverse.org/). Por otro lado, los archivos `csv` (*comma separated values*) con los que trabajar√°s en esta clase, se pueden importar de esta manera:

```{r eval=FALSE}
data <- read.csv("osos_hema.csv")
```
```{r include=FALSE}
data <- read.csv("docs/datos/osos_hema.csv")
```
:::{.callout-important}
Aseg√∫rate que el archivo `osos_hema.csv` se encuentra en el directorio que indicaste previamente.
:::
Una vez que hayas importado el archivo, lo puedes ver como *data frame* en el panel Environment. Puedes hacer clic sobre el objeto e inspeccionarlo brevemente.

Repasa brevemente las funciones que aprendiste en @sec-intro para obtener datos m√°s espec√≠ficos sobre el objeto `data`.

```{r eval=FALSE}
head(data)
summary(data)
str(data)
```

Observa que hay una gran cantidad de datos faltantes `NA‚Äôs`.  ¬øSon estos datos faltantes un problema para calcular la media y mediana de la columna colesterol?

```{r echo=TRUE}
mean(data$colesterol)
median(data$colesterol)
```

Los resultados muestran que no es posible calcular estas medidas de tendencia sin haber limpiado el *data frame*. Para poder hacerlo, es aconsejable elegir las columnas de inter√©s y realizar la limpieza de `NA‚Äôs` √∫nicamente en √©stas.

## Manipulaci√≥n de *data frames*

Ahora aprender√°s a manipular los datos que ser√°n analizados en la secci√≥n [-@sec-est-basica], e investigar√°s si existe alguna diferencia entre la media de colesterol de machos y hembras, y si la hubiera, testear√°s si esta disimilitud es estad√≠sticamente significativa realizando la prueba de hip√≥tesis estad√≠stica T de Student.

Por √∫ltimo, investigar√°s si existe correlaci√≥n entre los niveles de colesterol y triglic√©ridos en ambos sexos. Para esto necesitas algunos paquetes.

```{r eval=FALSE}
library(tidyverse)
library(rafalib)
```

Para deshacerte de los `NA's` puedes extraer las columnas de inter√©s de una manera parecida a la que has aprendido anteriormente.

```{r eval=FALSE}
lipidos <- data[ ,c("colesterol", "trigliceridos", "sexo")]
lipidos <- na.omit(lipidos)

# Tambi√©n puedes buscar las filas que poseen NA‚Äôs
which(is.na(data$colesterol))
```
üìö **Tarea**

¬øC√≥mo podr√≠as deshacerte de todos los NA's utilizando `which(is.na())`?

## Estad√≠stica b√°sica en R {#sec-est-basica}












![Seguimos trabajando en este tutorial](docs/Figures/under_constrution_bear1.jpeg "Title: An elephant")

